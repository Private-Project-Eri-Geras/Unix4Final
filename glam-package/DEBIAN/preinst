#!/bin/bash
set -e

listaDependencias=(
    '['
    "bash"
    "cat"
    "clear"
    "cut"
    "date"
    "dialog"
    "echo"
    "getent"
    "grep"
    "groups"
    "head"
    "id"
    "kill"
    "mkdir"
    "openssl"
    "passwd"
    "rm"
    "sh"
    "sleep"
    "tail"
    "touch"
    "tput"
    "yes"
    "wc"
    "at"
)

dependencias=""
# verificar dependencias
for dependencia in "${listaDependencias[@]}"; do
    if ! command -v "$dependencia" >/dev/null 2>&1; then
        dependencias+="$dependencia "
    fi
done

# mostrar dependencias
if [ -n "$dependencias" ]; then
    echo -e "\033[1;31mFALTAN DEPENDENCIAS\033[0m"
    echo -e "$dependencias"
    exit 1
fi
